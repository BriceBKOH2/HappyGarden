<app-sidebar-account></app-sidebar-account>

<section class="profile-section">
  <div *ngFor="let message of messages$ | async">
    <div class="msg">
      <div *ngIf="authServ.user$ | async as user">
        <div
          [className]="
            user.nickname == message.author ? 'current-user' : 'other-user'
          "
        >
          <p>{{ message.content }}</p>
        </div>
      </div>
      <p></p>
    </div>
  </div>

  <form
    [formGroup]="sendMessageForm"
    (ngSubmit)="onSubmitCreationForm()"
    class="form-simul"
  >
    <div class="form-group">
      <!-- <div *ngIf="authServ.user$ | async as user">
        <input formControlName="author" type="text" type="hidden" />
      </div>
      <input formControlName="conversation" type="text" type="hidden" /> -->
      <label for="msg">RÃ©pondre</label>
      <input
        formControlName="content"
        id="msg"
        name="msg"
        class="form-control"
        type="text"
        required
      />
    </div>
    <div class="div-width">
      <button class="btn btn btn-success" type="submit" (click)="sendMessage()">
        Envoyer message
      </button>
    </div>
  </form>
</section>
